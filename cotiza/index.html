<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Cotiza | JUSTISERV S.A.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Solicita una cotización rápida con JUSTISERV S.A. Transporte de carga, courier y logística integral en Ecuador. Respuesta en minutos." />
  <link rel="icon" href="/assets/img/justiserv-logo.png" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/assets/css/styles.css" />
</head>

<body>
<!-- ===== NAVBAR ===== -->
<header class="navbar">
  <div class="container navbar-inner">
    <a class="navbar-brand" href="/">
      <img src="/assets/img/justiserv-logo.png" width="52" height="52" alt="JUSTISERV S.A.">
      <span>JUSTISERV S.A.</span>
    </a>

    <button class="nav-toggle" aria-label="Abrir menú" aria-expanded="false" aria-controls="mobileMenu">☰</button>

    <nav class="nav nav-desktop">
      <a class="nav-link" href="/">Inicio</a>
      <a class="nav-link" href="/servicios/">Servicios</a>
      <a class="nav-link" href="/seguimiento/">Seguimiento</a>
      <a class="nav-link" href="/cotiza/" aria-current="page">Cotiza</a>
      <a class="nav-link" href="/contacto/">Contacto</a>
      <a class="btn btn-primary" href="/cotiza/">Cotiza ahora</a>
    </nav>
  </div>
</header>

<!-- ===== Menú móvil (sheet ÚNICO) ===== -->
<div id="mobileMenu" class="sheet" hidden>
  <div class="sheet-overlay" data-close></div>

  <div class="sheet-panel" role="dialog" aria-modal="true" aria-label="Menú">
    <div class="sheet-header">
      <a class="sheet-brand" href="/">
        <img src="/assets/img/justiserv-logo.png" width="32" height="32" alt="">
        <strong>JUSTISERV S.A.</strong>
      </a>
      <button class="sheet-close" aria-label="Cerrar" data-close>✕</button>
    </div>

    <nav class="sheet-nav">
      <a class="menu-link" href="/">Inicio</a>
      <a class="menu-link" href="/servicios/">Servicios</a>
      <a class="menu-link" href="/seguimiento/">Seguimiento</a>
      <a class="menu-link" href="/cotiza/" aria-current="page">Cotiza</a>
      <a class="menu-link" href="/contacto/">Contacto</a>
      <a class="btn btn-primary menu-cta" href="/cotiza/">Cotiza ahora</a>
    </nav>

    <div class="sheet-footer">
      <img src="/assets/img/justiserv-logo.png" width="24" height="24" alt="">
      <span>JUSTISERV S.A.</span>
    </div>
  </div>
</div>

<!-- ===== SECCIÓN COTIZACIÓN ===== -->
<section class="section">
  <div class="container">
    <div class="breadcrumb"><a href="/">Inicio</a> · Cotiza</div>
    <h1 style="color:var(--ink);margin:0 0 20px 0">Cotiza tu envío</h1>

    <div class="row cols-2">
      <!-- FORMULARIO -->
      <div class="card reveal">
        <div class="card-body">
          <form id="quote-form" action="https://formspree.io/f/xanpawvd" method="POST" novalidate>
            <!-- antispam / metadatos -->
            <input type="text" name="_gotcha" style="display:none">
            <input type="hidden" name="_subject" value="Nueva cotización desde justiservsa.com">
            <input type="hidden" name="origen_form" value="cotiza">

            <label>Nombre</label>
            <input name="nombre" required autocomplete="name" class="form-control" style="width:100%;padding:10px;border:1px solid #dbe6ef;border-radius:10px;margin:8px 0">

            <label>Email</label>
            <input type="email" name="email" required autocomplete="email" class="form-control" style="width:100%;padding:10px;border:1px solid #dbe6ef;border-radius:10px;margin:8px 0">

            <div class="row cols-2">
              <div>
                <label>Origen</label>
                <input name="origen" required class="form-control" style="width:100%;padding:10px;border:1px solid #dbe6ef;border-radius:10px;margin:8px 0">
              </div>
              <div>
                <label>Destino</label>
                <input name="destino" required class="form-control" style="width:100%;padding:10px;border:1px solid #dbe6ef;border-radius:10px;margin:8px 0">
              </div>
            </div>

            <div class="row cols-2">
              <div>
                <label>Peso (kg)</label>
                <input type="number" step="0.1" min="0" name="peso" required class="form-control" style="width:100%;padding:10px;border:1px solid #dbe6ef;border-radius:10px;margin:8px 0">
              </div>
              <div>
                <label for="tamano">Tamaño</label>
                <select name="tamano" id="tamano" required class="form-control" style="width:100%;padding:10px;border:1px solid #dbe6ef;border-radius:10px;margin:8px 0">
                  <option value="">Seleccione...</option>
                  <option value="20 pies">20 pies</option>
                  <option value="40 pies">40 pies</option>
                  <option value="plataforma">Plataforma</option>
                </select>
              </div>
            </div>

            <label>Detalle</label>
            <textarea name="detalle" rows="4" class="form-control" style="width:100%;padding:10px;border:1px solid #dbe6ef;border-radius:10px;margin:8px 0"></textarea>

            <button id="quote-submit" class="btn btn-primary" type="submit">Enviar cotización</button>
            <span id="quote-status" class="small" style="margin-left:10px;color:var(--muted)"></span>
          </form>
        </div>
      </div>

      <!-- INFO LATERAL -->
      <div class="reveal">
        <div class="card">
          <div class="card-body">
            <h3>¿Por qué cotizar con nosotros?</h3>
            <ul class="mt-2">
              <li>Respuesta en minutos.</li>
              <li>Rutas optimizadas y seguro de carga.</li>
              <li>Monitoreo GPS y KPIs de servicio.</li>
              <li>Certificación BASC y control de calidad.</li>
              <li>Atención 24/7 en todo Ecuador.</li>
            </ul>
          </div>
        </div>
      </div>
    </div><!-- /.row -->
  </div>
</section>

<!-- ===== FOOTER ===== -->
<footer>
  <div class="container" style="display:flex;gap:24px;justify-content:space-between;flex-wrap:wrap;align-items:center">
    <div class="brand" style="display:flex;align-items:center;gap:10px">
      <img src="/assets/img/justiserv-logo.png" width="28" height="28" alt="Logo JUSTISERV" />
      <span>JUSTISERV S.A.</span>
    </div>
    <div class="small">©️ <span id="year"></span> Todos los derechos reservados.</div>
  </div>
</footer>

<a class="wa-btn" href="https://wa.me/593982923258" aria-label="WhatsApp">WhatsApp</a>

<!-- ===== JS ===== -->
<script src="/assets/js/main.js" defer></script>
<script>
  // Año footer
  document.getElementById('year').textContent = new Date().getFullYear();

  // Fallback para abrir/cerrar el menú móvil si main.js no está disponible
  (function () {
    const toggle = document.querySelector('.nav-toggle');
    const sheet  = document.getElementById('mobileMenu');
    if (!toggle || !sheet) return;

    function openSheet(){ sheet.hidden=false; toggle.setAttribute('aria-expanded','true'); document.body.style.overflow='hidden'; }
    function closeSheet(){ sheet.hidden=true; toggle.setAttribute('aria-expanded','false'); document.body.style.overflow=''; }

    toggle.addEventListener('click', openSheet);
    sheet.addEventListener('click', e => { if (e.target.matches('[data-close], .sheet-overlay')) closeSheet(); });
    sheet.querySelectorAll('a').forEach(a => a.addEventListener('click', closeSheet));
  }());

  // Envío del formulario
  (function () {
    const form = document.getElementById('quote-form');
    const statusEl = document.getElementById('quote-status');
    const btn = document.getElementById('quote-submit');
    if (!form) return;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      if (!form.checkValidity()) { form.reportValidity(); return; }

      statusEl.textContent = 'Enviando...';
      btn.disabled = true;

      try {
        const res = await fetch(form.action, {
          method: 'POST',
          headers: { 'Accept': 'application/json' },
          body: new FormData(form)
        });
        if (res.ok) {
          statusEl.textContent = 'Enviado correctamente. Te contactaremos pronto.';
          form.reset();
        } else {
          statusEl.textContent = 'Error al enviar. Intenta nuevamente.';
        }
      } catch {
        statusEl.textContent = 'Error de red. Verifica tu conexión.';
      } finally {
        btn.disabled = false;
        setTimeout(() => statusEl.textContent = '', 6000);
      }
    });
  }());
</script>
</body>
</html>